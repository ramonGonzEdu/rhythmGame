{"version":3,"sources":["persistText.ts"],"sourcesContent":["import { hex2 } from './helper.js';\nimport { Persistent } from './persistent.js';\n\nexport class PersistentText extends Persistent {\n\trotation = Math.random() - 0.5;\n\n\tconstructor(\n\t\tpublic text: string,\n\t\tpublic color: string,\n\t\tpublic x: number,\n\t\tpublic y: number,\n\t\tdeathTime: number = Date.now() + 1000\n\t) {\n\t\tsuper(deathTime);\n\t\tthis.text = text;\n\t\tthis.color = color;\n\t\tthis.x = x;\n\t\tthis.y = y;\n\t}\n\n\tdraw(ctx: CanvasRenderingContext2D): void {\n\t\tctx.save();\n\n\t\tctx.fillStyle = this.color + hex2((1 - this.lifeMapper(Date.now())) * 255);\n\t\t// ctx.strokeStyle = this.color ;\n\n\t\tctx.font = '60px Arial Black';\n\t\tconst w = ctx.measureText(this.text).width / 2;\n\t\tctx.translate(this.x, this.y);\n\t\tctx.rotate(Math.PI * this.lifeMapper(Date.now()) * this.rotation);\n\t\tctx.translate(-w, 25);\n\n\t\tctx.fillText(this.text, 0, 0);\n\t\t// ctx.strokeText(this.text, this.x - w, this.y + 25);\n\t\tctx.restore();\n\t}\n}\n"],"names":["hex2","Persistent","PersistentText","constructor","text","color","x","y","deathTime","Date","now","rotation","Math","random","draw","ctx","save","fillStyle","lifeMapper","font","w","measureText","width","translate","rotate","PI","fillText","restore"],"mappings":"AAAA,SAASA,IAAI,QAAQ,aAAa,CAAC;AACnC,SAASC,UAAU,QAAQ,iBAAiB,CAAC;AAE7C,OAAO,MAAMC,cAAc,SAASD,UAAU;IAG7CE,YACQC,IAAY,EACZC,KAAa,EACbC,CAAS,EACTC,CAAS,EAChBC,SAAiB,GAAGC,IAAI,CAACC,GAAG,EAAE,GAAG,IAAI,CACpC;QACD,KAAK,CAACF,SAAS,CAAC,CAAC;aANVJ,IAAY,GAAZA,IAAY;aACZC,KAAa,GAAbA,KAAa;aACbC,CAAS,GAATA,CAAS;aACTC,CAAS,GAATA,CAAS;aANjBI,QAAQ,GAAGC,IAAI,CAACC,MAAM,EAAE,GAAG,GAAG;QAU7B,IAAI,CAACT,IAAI,GAAGA,IAAI,CAAC;QACjB,IAAI,CAACC,KAAK,GAAGA,KAAK,CAAC;QACnB,IAAI,CAACC,CAAC,GAAGA,CAAC,CAAC;QACX,IAAI,CAACC,CAAC,GAAGA,CAAC,CAAC;KACX;IAEDO,IAAI,CAACC,GAA6B,EAAQ;QACzCA,GAAG,CAACC,IAAI,EAAE,CAAC;QAEXD,GAAG,CAACE,SAAS,GAAG,IAAI,CAACZ,KAAK,GAAGL,IAAI,CAAC,CAAC,CAAC,GAAG,IAAI,CAACkB,UAAU,CAACT,IAAI,CAACC,GAAG,EAAE,CAAC,CAAC,GAAG,GAAG,CAAC,CAAC;QAG3EK,GAAG,CAACI,IAAI,GAAG,kBAAkB,CAAC;QAC9B,MAAMC,CAAC,GAAGL,GAAG,CAACM,WAAW,CAAC,IAAI,CAACjB,IAAI,CAAC,CAACkB,KAAK,GAAG,CAAC,AAAC;QAC/CP,GAAG,CAACQ,SAAS,CAAC,IAAI,CAACjB,CAAC,EAAE,IAAI,CAACC,CAAC,CAAC,CAAC;QAC9BQ,GAAG,CAACS,MAAM,CAACZ,IAAI,CAACa,EAAE,GAAG,IAAI,CAACP,UAAU,CAACT,IAAI,CAACC,GAAG,EAAE,CAAC,GAAG,IAAI,CAACC,QAAQ,CAAC,CAAC;QAClEI,GAAG,CAACQ,SAAS,CAAC,CAACH,CAAC,EAAE,EAAE,CAAC,CAAC;QAEtBL,GAAG,CAACW,QAAQ,CAAC,IAAI,CAACtB,IAAI,EAAE,CAAC,EAAE,CAAC,CAAC,CAAC;QAE9BW,GAAG,CAACY,OAAO,EAAE,CAAC;KACd;CACD"}